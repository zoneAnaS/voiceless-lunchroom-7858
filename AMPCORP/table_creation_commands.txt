CREATE DATABASE AMPCORP;

USE AMPCORP;

CREATE TABLE ADMIN(
	adminId INT PRIMARY KEY AUTO_INCREMENT,
	userName varchar(20) NOT NULL,
	password varchar(20) NOT NULL
);

CREATE TABLE CUSTOMER(
	customerId INT PRIMARY KEY AUTO_INCREMENT,
	firstName varchar(20) NOT NULL,
	lastName varchar(20) NOT NULL,
	userName varchar(20) NOT NULL,
	password varchar(20) NOT NULL,
	regDate Date NOT NULL,
	status varchar(8) default "active",
	type int Not null
);

CREATE TABLE BILL(
	BillId INT PRIMARY KEY AUTO_INCREMENT,
	custID INT NOT NULL,
	billDate DATE NOT NULL,
	status varChar(6) default 'unpaid',
	units INT NOT NULL,
	customerStatus varchar(8) default "active",
	transactionID INT,
	pendingAmount INT default 0
);

CREATE TABLE CUSTOMER_TYPE(
	CTID INT PRIMARY KEY AUTO_INCREMENT,
	CTNAME varchar(20) NOT NULL
);

INSERT INTO CUSTOMER_TYPE (CTNAME) VALUES
("Private"),
("Commercial");

CREATE TABLE TRANSACTION(
	TransactionID INT PRIMARY KEY AUTO_INCREMENT,
	PreviousAmount INT default 0,
	CurrentAmount Int NOT NULL,
	FIXEDCHARGE INT NOT NULL,
	Tax INT NOT NULL,
	TOTALAMOUNT INT NOT NULL,
	DATE_OF_TRANSACTION DATE NOT NULL
);